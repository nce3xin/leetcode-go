# 监控二叉树

给定一个二叉树，我们在树的节点上安装摄像头。

节点上的每个摄影头都可以监视其父对象、自身及其直接子对象。

计算监控树的所有节点所需的最小摄像头数量。

## 解法

这是一道树型dp。记得有人说过，拿到左右子树的信息，再来推断父节点的信息，这就是典型的dp，而且是树型dp。

本题的本质其实是贪心。

先拿到左右子树的信息，再来推断父节点的信息，这是典型的后序遍历。也就是自底向上。

为什么需要自底向上呢？

因为尽量让叶子节点的父节点安装摄像头，这样摄像头的数量才是最少的 ，这也是本道贪心的原理所在！

每个节点有3种状态：

- 未被覆盖
- 被覆盖
- 设置了摄像头

后序遍历，先处理2个子节点再处理父节点。

根据子节点的状态返回父节点的状态：

- 左右孩子有一个没被覆盖到，则父节点需要安装一个摄像头。
- 左右孩子都被覆盖到了，则父节点的状态是未被覆盖。
- 左右孩子有一个安装了摄像头，则父节点的状态是被覆盖。

注意，当遍历到整棵树的根节点，发现根节点的状态是未覆盖时，则需要在根节点上放一个摄像头，覆盖自己。因为根节点已经没有父节点了，无法通过在父节点放置摄像头来覆盖。